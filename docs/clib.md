C Library
=========

内核没有 C 标准库函数，但是内核的许多组件需要一些函数，此外 ACPICA 等组件也需要 C 库中的一些函数才能正常工作。

所需的函数基本上都是字符串操作和内存操作相关的，这些函数可以使用汇编语言编写以加速。如果单纯使用C语言编写，同样可以通过相应手段实现优化。

[这篇文章](http://graphics.stanford.edu/~seander/bithacks.html)讲了很多关于位运算的hack，能够实现很多有用的功能，最后一部分讲到了如何判断一个32/64位数里有没有0字节，这个功能可以用于循环展开。

目前OS在开发中，因此追求效率并不是最根本的目标。因此C库相关函数（尤其是string.h）使用可移植的C语言编写，很多函数的实现大量参考了newlib，因为newlib的代码做了很好的性能优化。

C和汇编的优化是两种方式，Linux采用汇编进行平台相关的优化，但是汇编的代码中并未使用循环展开。因为strcpy、memcpy等函数可能用于不对齐的情况，直接采用循环展开会造成严重后果。
